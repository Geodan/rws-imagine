<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../elements/gm-cow-core.html">
<link rel="import" href="./imagine-instance.html?time=2">

<link href='../style/style.css' rel='stylesheet'>
<script src="../bower_components/d3/d3.js"></script>
<script src="../cowconfigs.js"></script>

<dom-module id="imagine-tweedescherm">
<style>
#scoreScherm {
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    flex-direction: row-reverse;
}

#kaartjesOverlay {
	position: absolute;
    width: 100%;
    height: 100%;
    margin: 50px;
}

paper-card {
	position: absolute;
	font-family: "Avenir LT W01 65 Medium", sans-serif;
	font-size: 8pt;
	background-image: url('../style/logo.png');
	background-repeat: no-repeat;
	background-position: center top;
	width: 180px;
	padding-top: 60px;
	
	--paper-card-content: {
         @apply(--layout-horizontal);
         @apply(--layout-center-justified);
    };
}

.kaartje .img {
	padding-left: 20px;
}

.Amsterdam1 {top:  0%;	left: 0%;}
.Amsterdam2 {top: 30%;	left: 0%;}
.Amsterdam3 {top: 60%;	left: 0%;}
.Amsterdam4 {top:  0%;	left: 12%;}
.Amsterdam5 {top: 30%;	left: 12%;}
.Amsterdam6 {top: 60%;	left: 12%;}

.Tussengebied1 {top: 15%;	left: 25%;}
.Tussengebied2 {top: 45%;	left: 25%;}

.Almere1 {top:  0%; left: 37%;}
.Almere2 {top: 30%;	left: 37%;}
.Almere3 {top: 60%;	left: 37%;}
.Almere4 {top:  0%; left: 50%;}
.Almere5 {top: 30%;	left: 50%;}
.Almere6 {top: 60%;	left: 50%;}

.Tussengebied3 {top: 15%;	left: 62%;}

.Utrecht1 {top:  0%;	left: 75%;}
.Utrecht2 {top: 30%;	left: 75%;}
.Utrecht3 {top: 60%;	left: 75%;}
.Utrecht4 {top:  0%;	left: 87%;}
.Utrecht5 {top: 30%;	left: 87%;}
.Utrecht6 {top: 60%;	left: 87%;}

</style>
<template>
    <gm-cow-core id="cowcore" config="{{cowconfig}}" core="{{cow}}"></gm-cow-core>
    <imagine-instance id="instance"  
    	core="{{cow}}" 
    	scenario="{{scenario}}" 
    	team="{{team}}"
    	eigenschappen="{{eigenschappen}}">
    </imagine-instance>
    <div id="scoreScherm">
    	<img id="videotag" class='bg-video' src="../style/background.jpg">
    	<!--<video id="videotag" class='bg-video' loop="true" autoplay="true" src="http://download.blender.org/peach/bigbuckbunny_movies/big_buck_bunny_720p_stereo.ogg" type="video/ogg"></video>-->
    </div>
    <div id="kaartjesOverlay">
    	<template is='dom-repeat' items="{{eigenschappen}}" observe="_data">
    		<paper-card class$='[[item._data.id]]'>
    			<div class="card-content">
    			<center>
    				<b>[[item._data.stad]]</b>
    			</center>
    			</div>
    			<center>
					<img width=60 height=60 src='[[item._data.img]]' />
				</center>
				<div class="card-content">
					<div><b>[[item._data.title]]</b></div>
					<div secondary>
						<span>[[item._data.text]]</span>
					</div>
				</div>
    		</paper-card>
    	</template>
    </div>
</template>
</dom-module>
<script>

Polymer({
	is: 'imagine-tweedescherm',
	properties:{
		scenario: String,
		teams: {
			type: Array,
			value: function(){
				return ['Team A','Team D','Team C','Team B'];
			}
		},
		cowconfig: {
			type: Object,
			value: function(){
				/*! Remember to set the correct config in the configfile!*/
				return window.cowconfig;
			}
		},
		eigenschappen: {
			type: Array,
			value: function(){return [];},
			notify: true
		}
	},
	ready: function(){
		this.scenario;
		var teamNr = 0;
		if(window.location.hash) {
			var hash = window.location.hash.split('#')[1];
			if(parseInt(hash)&&hash <4 && hash > 0) {            
				teamNr = hash;
			}
		}
		this.team = this.teams[teamNr];
	},
	attached: function(){
		this.$.videotag.height = this.$.scoreScherm.clientHeight;
		this.$.videotag.width = this.$.scoreScherm.clientWidth;
	}
		
});
</script>